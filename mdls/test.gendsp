{
	"patcher" : 	{
		"fileversion" : 1,
		"appversion" : 		{
			"major" : 7,
			"minor" : 3,
			"revision" : 1,
			"architecture" : "x64",
			"modernui" : 1
		}
,
		"rect" : [ 67.0, 109.0, 600.0, 450.0 ],
		"editing_bgcolor" : [ 0.9, 0.9, 0.9, 1.0 ],
		"bglocked" : 0,
		"openinpresentation" : 0,
		"default_fontsize" : 12.0,
		"default_fontface" : 0,
		"default_fontname" : "Arial",
		"gridonopen" : 1,
		"gridsize" : [ 15.0, 15.0 ],
		"gridsnaponopen" : 1,
		"objectsnaponopen" : 1,
		"statusbarvisible" : 2,
		"toolbarvisible" : 1,
		"lefttoolbarpinned" : 0,
		"toptoolbarpinned" : 0,
		"righttoolbarpinned" : 0,
		"bottomtoolbarpinned" : 0,
		"toolbars_unpinned_last_save" : 0,
		"tallnewobj" : 0,
		"boxanimatetime" : 200,
		"enablehscroll" : 1,
		"enablevscroll" : 1,
		"devicewidth" : 0.0,
		"description" : "",
		"digest" : "",
		"tags" : "",
		"style" : "",
		"subpatcher_template" : "",
                
 "boxes" : [ { "box" : 				{
					"code" : " Buffer motion;\r\nHistory m19_X(0.);\r\nHistory m19_XR(0.);\r\nHistory m19_F(0.);\r\nHistory m18_X(0.);\r\nHistory m18_XR(0.);\r\nHistory m18_F(0.);\r\nHistory m17_X(0.);\r\nHistory m17_XR(0.);\r\nHistory m17_F(0.);\r\nHistory m16_X(0.);\r\nHistory m16_XR(0.);\r\nHistory m16_F(0.);\r\nHistory m15_X(0.);\r\nHistory m15_XR(0.);\r\nHistory m15_F(0.);\r\nHistory m14_X(0.);\r\nHistory m14_XR(0.);\r\nHistory m14_F(0.);\r\nHistory m13_X(0.);\r\nHistory m13_XR(0.);\r\nHistory m13_F(0.);\r\nHistory m12_X(0.);\r\nHistory m12_XR(0.);\r\nHistory m12_F(0.);\r\nHistory m11_X(0.);\r\nHistory m11_XR(0.);\r\nHistory m11_F(0.);\r\nHistory m10_X(0.);\r\nHistory m10_XR(0.);\r\nHistory m10_F(0.);\r\nHistory m9_X(0.);\r\nHistory m9_XR(0.);\r\nHistory m9_F(0.);\r\nHistory m8_X(0.);\r\nHistory m8_XR(0.);\r\nHistory m8_F(0.);\r\nHistory m7_X(0.);\r\nHistory m7_XR(0.);\r\nHistory m7_F(0.);\r\nHistory m6_X(0.);\r\nHistory m6_XR(0.);\r\nHistory m6_F(0.);\r\nHistory m5_X(0.);\r\nHistory m5_XR(0.);\r\nHistory m5_F(0.);\r\nHistory m4_X(0.);\r\nHistory m4_XR(0.);\r\nHistory m4_F(0.);\r\nHistory m3_X(0.);\r\nHistory m3_XR(0.);\r\nHistory m3_F(0.);\r\nHistory m2_X(0.);\r\nHistory m2_XR(0.);\r\nHistory m2_F(0.);\r\nHistory m1_X(0.);\r\nHistory m1_XR(0.);\r\nHistory m1_F(0.);\r\nHistory m0_X(0.);\r\nHistory m0_XR(0.);\r\nHistory m0_F(0.);\r\nParam refZ(0.001);\r\nParam refK(0.1);\r\nParam massM(1.);\r\ns1_X = float(0.);\r\ns1_XR = float(0.);\r\ns0_X = float(0.);\r\ns0_XR = float(0.);\r\nnewPos = (m19_F) / massM + 2 * m19_X - m19_XR;\r\nm19_XR = fixdenorm(m19_X);\r\nm19_X = fixdenorm(newPos);\r\nm19_F =  (0.);\r\nnewPos = (m18_F) / massM + 2 * m18_X - m18_XR;\r\nm18_XR = fixdenorm(m18_X);\r\nm18_X = fixdenorm(newPos);\r\nm18_F =  (0.);\r\nnewPos = (m17_F) / massM + 2 * m17_X - m17_XR;\r\nm17_XR = fixdenorm(m17_X);\r\nm17_X = fixdenorm(newPos);\r\nm17_F =  (0.);\r\nnewPos = (m16_F) / massM + 2 * m16_X - m16_XR;\r\nm16_XR = fixdenorm(m16_X);\r\nm16_X = fixdenorm(newPos);\r\nm16_F =  (0.);\r\nnewPos = (m15_F) / massM + 2 * m15_X - m15_XR;\r\nm15_XR = fixdenorm(m15_X);\r\nm15_X = fixdenorm(newPos);\r\nm15_F =  (0.);\r\nnewPos = (m14_F) / massM + 2 * m14_X - m14_XR;\r\nm14_XR = fixdenorm(m14_X);\r\nm14_X = fixdenorm(newPos);\r\nm14_F =  (0.);\r\nnewPos = (m13_F) / massM + 2 * m13_X - m13_XR;\r\nm13_XR = fixdenorm(m13_X);\r\nm13_X = fixdenorm(newPos);\r\nm13_F =  (0.);\r\nnewPos = (m12_F) / massM + 2 * m12_X - m12_XR;\r\nm12_XR = fixdenorm(m12_X);\r\nm12_X = fixdenorm(newPos);\r\nm12_F =  (0.);\r\nnewPos = (m11_F) / massM + 2 * m11_X - m11_XR;\r\nm11_XR = fixdenorm(m11_X);\r\nm11_X = fixdenorm(newPos);\r\nm11_F =  (0.);\r\nnewPos = (m10_F) / massM + 2 * m10_X - m10_XR;\r\nm10_XR = fixdenorm(m10_X);\r\nm10_X = fixdenorm(newPos);\r\nm10_F =  (0.);\r\nnewPos = (m9_F) / massM + 2 * m9_X - m9_XR;\r\nm9_XR = fixdenorm(m9_X);\r\nm9_X = fixdenorm(newPos);\r\nm9_F =  (0.);\r\nnewPos = (m8_F) / massM + 2 * m8_X - m8_XR;\r\nm8_XR = fixdenorm(m8_X);\r\nm8_X = fixdenorm(newPos);\r\nm8_F =  (0.);\r\nnewPos = (m7_F) / massM + 2 * m7_X - m7_XR;\r\nm7_XR = fixdenorm(m7_X);\r\nm7_X = fixdenorm(newPos);\r\nm7_F =  (0.);\r\nnewPos = (m6_F) / massM + 2 * m6_X - m6_XR;\r\nm6_XR = fixdenorm(m6_X);\r\nm6_X = fixdenorm(newPos);\r\nm6_F =  (0.);\r\nnewPos = (m5_F) / massM + 2 * m5_X - m5_XR;\r\nm5_XR = fixdenorm(m5_X);\r\nm5_X = fixdenorm(newPos);\r\nm5_F =  (0.);\r\nnewPos = (m4_F) / massM + 2 * m4_X - m4_XR;\r\nm4_XR = fixdenorm(m4_X);\r\nm4_X = fixdenorm(newPos);\r\nm4_F =  (0.);\r\nnewPos = (m3_F) / massM + 2 * m3_X - m3_XR;\r\nm3_XR = fixdenorm(m3_X);\r\nm3_X = fixdenorm(newPos);\r\nm3_F =  (0.);\r\nnewPos = (m2_F) / massM + 2 * m2_X - m2_XR;\r\nm2_XR = fixdenorm(m2_X);\r\nm2_X = fixdenorm(newPos);\r\nm2_F =  (0.);\r\nnewPos = (m1_F) / massM + 2 * m1_X - m1_XR;\r\nm1_XR = fixdenorm(m1_X);\r\nm1_X = fixdenorm(newPos);\r\nm1_F =  (0.);\r\nnewPos = (m0_F) / massM + 2 * m0_X - m0_XR;\r\nm0_XR = fixdenorm(m0_X);\r\nm0_X = fixdenorm(newPos);\r\nm0_F =  (0.);\r\nforce = 0.;\r\nspeed = ((m19_X-m19_XR) - (m5_X-m5_XR));\r\nif(abs(speed) < (0.0001 / 3.))  {\r\nforce = 0.01 * speed ;\r\n}\r\nelse if(abs(speed) < 0.0001)  {\r\nif(speed > 0) {force = (0.0001 / 3.) * 0.01 + (-0.01/4.) * speed ;}\r\nelse { force =  - (0.0001 / 3.) * 0.01 + (-0.01/4.) * speed ;}\r\n}\r\nelse force = 0.;\r\nm19_F +=  -force;\r\nm5_F+= force;\r\nout1 =  m17_X;\r\nm3_F+=  in1;\r\nforce = (refK) * (m19_X - s1_X) + (refZ) * ((m19_X-m19_XR) - (s1_X-s1_XR)) ;\r\nm19_F +=  -force;\r\ns1_F+= force;\r\nforce = (refK) * (m18_X - m19_X) + (refZ) * ((m18_X-m18_XR) - (m19_X-m19_XR)) ;\r\nm18_F +=  -force;\r\nm19_F+= force;\r\nforce = (refK) * (m17_X - m18_X) + (refZ) * ((m17_X-m17_XR) - (m18_X-m18_XR)) ;\r\nm17_F +=  -force;\r\nm18_F+= force;\r\nforce = (refK) * (m16_X - m17_X) + (refZ) * ((m16_X-m16_XR) - (m17_X-m17_XR)) ;\r\nm16_F +=  -force;\r\nm17_F+= force;\r\nforce = (refK) * (m15_X - m16_X) + (refZ) * ((m15_X-m15_XR) - (m16_X-m16_XR)) ;\r\nm15_F +=  -force;\r\nm16_F+= force;\r\nforce = (refK) * (m14_X - m15_X) + (refZ) * ((m14_X-m14_XR) - (m15_X-m15_XR)) ;\r\nm14_F +=  -force;\r\nm15_F+= force;\r\nforce = (refK) * (m13_X - m14_X) + (refZ) * ((m13_X-m13_XR) - (m14_X-m14_XR)) ;\r\nm13_F +=  -force;\r\nm14_F+= force;\r\nforce = (refK) * (m12_X - m13_X) + (refZ) * ((m12_X-m12_XR) - (m13_X-m13_XR)) ;\r\nm12_F +=  -force;\r\nm13_F+= force;\r\nforce = (refK) * (m11_X - m12_X) + (refZ) * ((m11_X-m11_XR) - (m12_X-m12_XR)) ;\r\nm11_F +=  -force;\r\nm12_F+= force;\r\nforce = (refK) * (m10_X - m11_X) + (refZ) * ((m10_X-m10_XR) - (m11_X-m11_XR)) ;\r\nm10_F +=  -force;\r\nm11_F+= force;\r\nforce = (refK) * (m9_X - m10_X) + (refZ) * ((m9_X-m9_XR) - (m10_X-m10_XR)) ;\r\nm9_F +=  -force;\r\nm10_F+= force;\r\nforce = (refK) * (m8_X - m9_X) + (refZ) * ((m8_X-m8_XR) - (m9_X-m9_XR)) ;\r\nm8_F +=  -force;\r\nm9_F+= force;\r\nforce = (refK) * (m7_X - m8_X) + (refZ) * ((m7_X-m7_XR) - (m8_X-m8_XR)) ;\r\nm7_F +=  -force;\r\nm8_F+= force;\r\nforce = (refK) * (m6_X - m7_X) + (refZ) * ((m6_X-m6_XR) - (m7_X-m7_XR)) ;\r\nm6_F +=  -force;\r\nm7_F+= force;\r\nforce = (refK) * (m5_X - m6_X) + (refZ) * ((m5_X-m5_XR) - (m6_X-m6_XR)) ;\r\nm5_F +=  -force;\r\nm6_F+= force;\r\nforce = (refK) * (m4_X - m5_X) + (refZ) * ((m4_X-m4_XR) - (m5_X-m5_XR)) ;\r\nm4_F +=  -force;\r\nm5_F+= force;\r\nforce = (refK) * (m3_X - m4_X) + (refZ) * ((m3_X-m3_XR) - (m4_X-m4_XR)) ;\r\nm3_F +=  -force;\r\nm4_F+= force;\r\nforce = (refK) * (m2_X - m3_X) + (refZ) * ((m2_X-m2_XR) - (m3_X-m3_XR)) ;\r\nm2_F +=  -force;\r\nm3_F+= force;\r\nforce = (refK) * (m1_X - m2_X) + (refZ) * ((m1_X-m1_XR) - (m2_X-m2_XR)) ;\r\nm1_F +=  -force;\r\nm2_F+= force;\r\nforce = (refK) * (m0_X - m1_X) + (refZ) * ((m0_X-m0_XR) - (m1_X-m1_XR)) ;\r\nm0_F +=  -force;\r\nm1_F+= force;\r\nforce = (refK) * (s0_X - m0_X) + (refZ) * ((s0_X-s0_XR) - (m0_X-m0_XR)) ;\r\ns0_F +=  -force;\r\nm0_F+= force;\r\nforce = (0.01) * (m0_X - m1_X) + (0.) * ((m0_X-m0_XR) - (m1_X-m1_XR)) ;\r\nif((m0_X-m1_X) > (0.))  { force = 0.;}\r\nm0_F +=  -force;\r\nm1_F+= force;\r\nmotion.poke(s1_X, 0);\r\nmotion.poke(m19_X, 1);\r\nmotion.poke(m18_X, 2);\r\nmotion.poke(m17_X, 3);\r\nmotion.poke(m16_X, 4);\r\nmotion.poke(m15_X, 5);\r\nmotion.poke(m14_X, 6);\r\nmotion.poke(m13_X, 7);\r\nmotion.poke(m12_X, 8);\r\nmotion.poke(m11_X, 9);\r\nmotion.poke(m10_X, 10);\r\nmotion.poke(m9_X, 11);\r\nmotion.poke(m8_X, 12);\r\nmotion.poke(m7_X, 13);\r\nmotion.poke(m6_X, 14);\r\nmotion.poke(m5_X, 15);\r\nmotion.poke(m4_X, 16);\r\nmotion.poke(m3_X, 17);\r\nmotion.poke(m2_X, 18);\r\nmotion.poke(m1_X, 19);\r\nmotion.poke(m0_X, 20);\r\nmotion.poke(s0_X, 21);\r\n ",
					"fontface" : 0,
					"fontname" : "Arial",
					"fontsize" : 12.0,
					"id" : " phyMdlBox ",
					"maxclass" : "codebox",
					"numinlets" : 1,
					"numoutlets" : 1,
					"outlettype" : [ "" ],
					"patching_rect" : [ 20.0, 50.0, 250.0, 200.0 ],
					"style" : ""
				} }, { "box" : 				{
					"id" : " inbox_1 ",
					"maxclass" : "newobj",
					"numinlets" :  0,
					"numoutlets" : 1,
					"outlettype" : [ "" ],
					"patching_rect" : [ 70.0, 20.0, 30.0, 22.0 ],
					"style" : "",
					"text" : " in 1 "
				} }, { "box" : 				{
					"id" : " outbox_1 ",
					"maxclass" : "newobj",
					"numinlets" :  1,
					"numoutlets" : 0,
					"outlettype" : [ "" ],
					"patching_rect" : [ 70.0, 320.0, 30.0, 22.0 ],
					"style" : "",
					"text" : " out 1 "
				} }],
 "lines" : [   {
				"patchline" : 				{
					"destination" : [ " phyMdlBox ", 0 ],
					"disabled" : 0,
					"hidden" : 0,
					"source" : [ " inbox_1 ", 0 ]
				}
			},  {
				"patchline" : 				{
					"destination" : [ " outbox_1 ", 0 ],
					"disabled" : 0,
					"hidden" : 0,
					"source" : [ " phyMdlBox ", 0 ]
				}
			}] } } 